<div class="wrapper">
	<div class="container">
		<div class="content">
			<h3>IDecord</h3>
			<span>Join with us - Connect to everyone</span>
		</div>

		<div class="infomation">
			<div class="avatar">
				<div [ngStyle]="{ 'background-image': backgroundAvatar }"></div>
			</div>

			<form [formGroup]="registerForm" class="info">
				<!-- error message -->
				<div class="error-message">
					<ul>
						@for (err of errorMessages; track $index) {
						<li>{{ err }}</li>
						}
					</ul>
				</div>

				<div>
					@if (isSubmit == true && registerForm.hasError('required', 'fullName')) {
					<small>*Full name is required</small>
					}

					<input formControlName="fullName" type="text" placeholder="Full name" />
				</div>

				<div>
					@if (isSubmit == true && registerForm.hasError('email', 'email')) {
					<small>*Email is incorrect</small>
					} @if (isSubmit == true && registerForm.hasError('required', 'email')) {
					<small>*Email is required</small>
					}

					<input formControlName="email" type="text" placeholder="Your email" />
				</div>

				<div>
					@if (isSubmit == true && registerForm.hasError('required', 'password')) {
					<small>*Password is required</small>
					} @if (isSubmit == true && registerForm.hasError('minlength', 'password')) {
					<small>*Password must be at least 8 characters</small>
					}

					<input
						formControlName="password"
						type="password"
						placeholder="Enter password"
					/>
				</div>

				<div>
					@if (isSubmit == true && registerForm.hasError('required', 'reEnterPassword')) {
					<small>*Re-enter Password is required</small>
					} @if (registerForm.controls['reEnterPassword'].dirty) {
					<small>*Re-enter Password is incorrect</small>}

					<input
						formControlName="reEnterPassword"
						type="password"
						placeholder="Re-enter password"
					/>
				</div>

				<div class="flex items-center gap-2">
					<input
						(change)="onSelectedAvatar($event)"
						type="file"
						id="files"
						style="display: none"
					/>
					<label class="btn-default" for="files">Choose your avatar</label>
				</div>

				<button (click)="onRegister()" class="btn-danger w-full">Register</button>
			</form>
		</div>
	</div>
</div>
